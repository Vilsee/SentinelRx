<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SentinelRx | Professional Signal Detection Engine</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-deep: #020617;
            --bg-glass: rgba(15, 23, 42, 0.85);
            --neon-teal: #2dd4bf;
            --neon-pink: #f43f5e;
            --neon-blue: #38bdf8;
            --neon-purple: #a855f7;
            --text-main: #f8fafc;
            --text-dim: #94a3b8;
            --border: rgba(255, 255, 255, 0.1);
            --glow-teal: 0 0 15px rgba(45, 212, 191, 0.4);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--bg-deep);
            background-image:
                radial-gradient(at 0% 0%, rgba(45, 212, 191, 0.05) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(168, 85, 247, 0.05) 0px, transparent 50%);
            color: var(--text-main);
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar Glassmorphism */
        aside {
            width: 300px;
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            border-right: 1px solid var(--border);
            padding: 2.5rem 1.5rem;
            display: flex;
            flex-direction: column;
            z-index: 10;
        }

        .logo {
            font-size: 1.75rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--neon-teal), var(--neon-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 3.5rem;
            letter-spacing: -0.5px;
        }

        .nav-group {
            margin-bottom: 2rem;
        }

        .nav-label {
            font-size: 0.75rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 1.2rem;
            padding-left: 0.5rem;
            opacity: 0.6;
        }

        .nav-item {
            padding: 1rem 1.2rem;
            border-radius: 14px;
            margin-bottom: 0.6rem;
            color: var(--text-dim);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 14px;
            border: 1px solid transparent;
        }

        .nav-item.active {
            background: rgba(45, 212, 191, 0.1);
            color: var(--neon-teal);
            border-color: rgba(45, 212, 191, 0.2);
            box-shadow: var(--glow-teal);
        }

        .nav-item:hover:not(.active) {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-main);
            transform: translateX(8px);
        }

        /* Main View */
        main {
            flex: 1;
            padding: 3rem 4rem;
            overflow-y: auto;
            position: relative;
        }

        .page {
            display: none;
            animation: fadeIn 0.4s ease-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.98);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 3.5rem;
        }

        h1 {
            margin: 0;
            font-size: 2.8rem;
            font-weight: 700;
            letter-spacing: -1.5px;
        }

        .btn-neon {
            background: linear-gradient(135deg, var(--neon-teal), var(--neon-blue));
            color: var(--bg-deep);
            border: none;
            padding: 1rem 2.2rem;
            border-radius: 12px;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(45, 212, 191, 0.3);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1.5px;
        }

        .btn-neon:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(45, 212, 191, 0.5);
        }

        /* Dashboard Grid */
        .dash-grid {
            display: grid;
            grid-template-columns: 1.6fr 1fr;
            gap: 3rem;
        }

        .glass-card {
            background: var(--bg-glass);
            backdrop-filter: blur(15px);
            border-radius: 24px;
            border: 1px solid var(--border);
            padding: 2.5rem;
            position: relative;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2.5rem;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-main);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Neon Table */
        .neon-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 16px;
        }

        .neon-table th {
            text-align: left;
            padding: 0 1.2rem;
            color: var(--text-dim);
            font-size: 0.8rem;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .neon-table tr {
            background: rgba(255, 255, 255, 0.03);
            transition: all 0.3s;
            cursor: pointer;
        }

        .neon-table tr:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(5px);
            border-left: 4px solid var(--neon-teal);
        }

        .neon-table td {
            padding: 1.5rem 1.2rem;
        }

        .neon-table td:first-child {
            border-radius: 16px 0 0 16px;
        }

        .neon-table td:last-child {
            border-radius: 0 16px 16px 0;
        }

        .tag {
            padding: 6px 14px;
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
            white-space: nowrap;
            display: inline-block;
        }

        .tag-critical {
            background: rgba(244, 63, 94, 0.15);
            color: var(--neon-pink);
            border: 1px solid rgba(244, 63, 94, 0.3);
            box-shadow: 0 0 10px rgba(244, 63, 94, 0.2);
        }

        .tag-active {
            background: rgba(45, 212, 191, 0.15);
            color: var(--neon-teal);
            border: 1px solid rgba(45, 212, 191, 0.3);
        }

        /* Regional Trends Map Mock */
        .map-container {
            height: 400px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .map-dot {
            width: 12px;
            height: 12px;
            background: var(--neon-pink);
            border-radius: 50%;
            position: absolute;
            box-shadow: 0 0 15px var(--neon-pink);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            100% {
                transform: scale(3);
                opacity: 0;
            }
        }

        /* Pipeline Stream Visualizer */
        .stream-vis {
            height: 120px;
            background: #000;
            border-radius: 16px;
            margin-top: 1.5rem;
            position: relative;
            display: flex;
            align-items: center;
            overflow: hidden;
            padding: 0 1.5rem;
            border: 1px solid rgba(45, 212, 191, 0.2);
        }

        .packet {
            width: 6px;
            height: 6px;
            background: var(--neon-teal);
            border-radius: 50%;
            position: absolute;
            animation: shoot 2.5s infinite linear;
            box-shadow: 0 0 15px var(--neon-teal);
        }

        @keyframes shoot {
            0% {
                left: -20px;
                opacity: 0;
                transform: scale(0.5);
            }

            20% {
                opacity: 1;
                transform: scale(1.2);
            }

            80% {
                opacity: 1;
                transform: scale(1.2);
            }

            100% {
                left: 100%;
                opacity: 0;
                transform: scale(0.5);
            }
        }

        /* Narrative View */
        .narrative-box {
            background: #000;
            border-radius: 18px;
            padding: 2rem;
            border: 1px solid rgba(168, 85, 247, 0.4);
            box-shadow: 0 0 30px rgba(168, 85, 247, 0.15);
        }

        .narrative-box h3 {
            color: var(--neon-purple);
            margin-top: 0;
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        .narrative-box code {
            font-family: 'JetBrains Mono';
            color: var(--neon-blue);
            font-size: 0.9rem;
            background: rgba(56, 189, 248, 0.1);
            padding: 4px 8px;
            border-radius: 6px;
        }

        .narrative-box p {
            line-height: 1.8;
            color: var(--text-dim);
            font-size: 1rem;
        }

        /* Stats Blocks */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.03);
            padding: 1.2rem;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border);
            transition: all 0.3s;
        }

        .stat-box:hover {
            border-color: var(--neon-blue);
            transform: translateY(-3px);
        }

        .stat-val {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 5px;
        }

        .stat-lab {
            font-size: 0.7rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        /* Section Specifics */
        .clinical-insight {
            border-left: 4px solid var(--neon-pink);
            padding-left: 1rem;
            margin: 1.5rem 0;
        }

        /* Interactive Nav Fix */
        .nav-item span {
            font-size: 1.2rem;
        }
    </style>
</head>

<body>
    <aside>
        <div class="logo">üõ°Ô∏è SentinelRx</div>

        <div class="nav-group">
            <div class="nav-label">Surveillance Operations</div>
            <div class="nav-item active" onclick="showDashboard()"><span>üìä</span> Active Signals</div>
            <div class="nav-item" onclick="showReports()"><span>üì∞</span> Narrative Archive</div>
            <div class="nav-item" onclick="showTrends()"><span>üåê</span> Regional Trends</div>
        </div>

        <div class="nav-group">
            <div class="nav-label">Engine Management</div>
            <div class="nav-item" onclick="showSettings()"><span>‚öôÔ∏è</span> Processing Config</div>
            <div class="nav-item" onclick="showDocs()"><span>üîó</span> Clinical API Docs</div>
            <div class="nav-item" onclick="showAudit()"><span>üìù</span> System Audit Logs</div>
        </div>

        <div class="nav-group">
            <div class="nav-label">Notifications</div>
            <div class="nav-item" onclick="showSubs()"><span>üîî</span> Alert Subscriptions</div>
        </div>

        <div style="margin-top: auto;">
            <div class="glass-card" style="padding: 1.2rem; border-radius: 16px;">
                <div style="color: var(--neon-teal); font-weight: 800; font-size: 0.8rem; margin-bottom: 8px;">BioBERT
                    v2.1 (Clinical)</div>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <span
                        style="width: 8px; height: 8px; background: var(--neon-teal); border-radius: 50%; box-shadow: 0 0 8px var(--neon-teal);"></span>
                    <span style="font-size: 0.75rem; color: var(--text-dim);">NLP Engine Online</span>
                </div>
            </div>
        </div>
    </aside>

    <main id="main-content">
        <!-- Dashboard Page -->
        <section id="dashboard-page" class="page active">
            <header>
                <div>
                    <h1>Pharmacovigilance Nexus</h1>
                    <div
                        style="color: var(--neon-blue); font-weight: 600; margin-top: 8px; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px;">
                        Real-time Disproportionality Analysis</div>
                </div>
                <button class="btn-neon" onclick="simulateNewSignal()">Execute New Sync</button>
            </header>

            <div class="dash-grid">
                <div class="glass-card">
                    <div class="card-header">
                        <div class="card-title">üö® Emerging Safety Signals (24h Window)</div>
                        <div style="color: var(--neon-teal); font-weight: 700; font-size: 0.85rem;">Source Fusion: 128k
                            Records</div>
                    </div>
                    <table class="neon-table">
                        <thead>
                            <tr>
                                <th>Medicinal Entity</th>
                                <th>Adverse Reaction</th>
                                <th>PRR Score</th>
                                <th>ROR (Lower CI)</th>
                                <th>Classification</th>
                            </tr>
                        </thead>
                        <tbody id="signal-rows">
                            <tr onclick="updateNarrative('SEMAGLUTIDE')">
                                <td><strong>SEMAGLUTIDE</strong></td>
                                <td>Pancreatitis Necrotizing</td>
                                <td style="color: var(--neon-pink); font-weight: 800;">5.12</td>
                                <td>3.45</td>
                                <td><span class="tag tag-critical">High Priority</span></td>
                            </tr>
                            <tr onclick="updateNarrative('NIVOLUMAB')">
                                <td><strong>NIVOLUMAB</strong></td>
                                <td>Myocarditis Fulminant</td>
                                <td style="color: var(--neon-pink); font-weight: 800;">4.85</td>
                                <td>2.92</td>
                                <td><span class="tag tag-critical">High Priority</span></td>
                            </tr>
                            <tr onclick="updateNarrative('APIXABAN')">
                                <td><strong>APIXABAN</strong></td>
                                <td>Intracranial Hemorrhage</td>
                                <td style="color: var(--neon-teal); font-weight: 800;">2.45</td>
                                <td>1.15</td>
                                <td><span class="tag tag-active">Emerging</span></td>
                            </tr>
                            <tr onclick="updateNarrative('ADALIMUMAB')">
                                <td><strong>ADALIMUMAB</strong></td>
                                <td>Psoriasiform Rash</td>
                                <td style="color: var(--neon-blue); font-weight: 800;">3.22</td>
                                <td>1.88</td>
                                <td><span class="tag tag-active">Under Review</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div style="display: flex; flex-direction: column; gap: 3rem;">
                    <div class="glass-card">
                        <div class="card-title">üì° Kafka Stream Ingestion</div>
                        <div class="stream-vis">
                            <div class="packet" style="animation-delay: 0s"></div>
                            <div class="packet" style="animation-delay: 0.8s"></div>
                            <div class="packet" style="animation-delay: 1.5s"></div>
                            <div
                                style="font-family: 'JetBrains Mono'; font-size: 0.75rem; color: var(--neon-teal); width: 100%; text-align: center;">
                                FAERS_26Q1 >> BIOBERT_NER >> DUCKDB
                            </div>
                        </div>
                        <div style="margin-top: 1.5rem; display: flex; flex-direction: column; gap: 10px;">
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem;">
                                <span style="color: var(--text-dim);">Reddit /r/Medicine</span>
                                <span style="color: var(--neon-teal);">Operational</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 0.85rem;">
                                <span style="color: var(--text-dim);">FDA openAPI</span>
                                <span style="color: var(--neon-teal);">Syncing...</span>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card">
                        <div class="card-title">ü§ñ AI Agent Narrative</div>
                        <div class="narrative-box" id="narrative-content">
                            <h3>Semaglutide Analysis</h3>
                            <code>SIGNAL_ID: SRX-2026-N42</code>
                            <div class="clinical-insight">
                                <p>Disproportionate reporting (PRR=5.12) detected for Necrotizing Pancreatitis
                                    associated with GLP-1 therapy. Signal strength is validated across 12 clinical case
                                    reports and 4 social media threads.</p>
                            </div>
                            <div class="stat-grid">
                                <div class="stat-box"><span class="stat-val">5.12</span><span
                                        class="stat-lab">PRR</span></div>
                                <div class="stat-box"><span class="stat-val">12</span><span
                                        class="stat-lab">Cases</span></div>
                                <div class="stat-box"><span class="stat-val">Tier 1</span><span
                                        class="stat-lab">Priority</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reports Page -->
        <section id="reports-page" class="page">
            <header>
                <h1>Medical Signal Archive</h1>
            </header>
            <div class="glass-card">
                <div class="card-title">Historical Clinical Narratives</div>
                <div style="margin-top: 2rem; display: flex; flex-direction: column; gap: 1.5rem;">
                    <div class="narrative-box" style="border-left: 5px solid var(--neon-blue);">
                        <div style="display: flex; justify-content: space-between;">
                            <h3>Case SRX-99: Nivolumab Myocarditis</h3>
                            <span class="tag tag-active">Validated</span>
                        </div>
                        <p>Aggregated signal from Oncology treatment nodes. Multiple occurrences of rapid onset
                            fulminant myocarditis post-second dose. Cross-referenced with EHR text mining.</p>
                    </div>
                    <div class="narrative-box" style="border-left: 5px solid var(--neon-pink);">
                        <div style="display: flex; justify-content: space-between;">
                            <h3>Case SRX-88: Apixaban Hemorrhage</h3>
                            <span class="tag tag-critical">Under Investigation</span>
                        </div>
                        <p>Emerging trend in intracranial events in geriatric populations with baseline NSAID usage.
                            Data fusion identifies a high ROR in high-dosage cohorts.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Configuration Page -->
        <section id="settings-page" class="page">
            <header>
                <h1>Processing Engine Config</h1>
            </header>
            <div class="dash-grid" style="grid-template-columns: 1fr 1fr;">
                <div class="glass-card">
                    <div class="card-title">Pipeline Sensitivity</div>
                    <div style="margin-top: 2rem; display: flex; flex-direction: column; gap: 2rem;">
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>Signal Threshold (PRR)</span>
                                <span style="color: var(--neon-teal);">2.0</span>
                            </div>
                            <div
                                style="height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; position: relative;">
                                <div
                                    style="width: 40%; height: 100%; background: var(--neon-teal); border-radius: 3px; box-shadow: 0 0 10px var(--neon-teal);">
                                </div>
                            </div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                <span>NLP Confidence Floor</span>
                                <span style="color: var(--neon-blue);">0.85</span>
                            </div>
                            <div
                                style="height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; position: relative;">
                                <div
                                    style="width: 85%; height: 100%; background: var(--neon-blue); border-radius: 3px; box-shadow: 0 0 10px var(--neon-blue);">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="glass-card">
                    <div class="card-title">AI Synthesis Parameters</div>
                    <div style="margin-top: 2rem; display: flex; flex-direction: column; gap: 1.5rem;">
                        <div
                            style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 12px;">
                            <span>Reporting LLM</span>
                            <span style="color: var(--neon-purple);">GPT-4o Advanced</span>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 12px;">
                            <span>NER Primary Model</span>
                            <span style="color: var(--neon-teal);">BioBERT-Clinical-v4</span>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; padding: 1rem; background: rgba(0,0,0,0.2); border-radius: 12px;">
                            <span>Automated Fact-Check</span>
                            <span style="color: var(--neon-blue);">ENABLED</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Trends Page -->
        <section id="trends-page" class="page">
            <header>
                <h1>Regional Hotspots</h1>
            </header>
            <div class="dash-grid">
                <div class="glass-card">
                    <div class="card-title">üåç Global Distribution Map</div>
                    <div class="map-container"
                        style="background: url('https://img.freepik.com/free-vector/world-map-silhouettes_23-2147513072.jpg') no-repeat center; background-size: cover; opacity: 0.7;">
                        <div class="map-dot" style="top: 30%; left: 20%;"></div>
                        <div class="map-dot" style="top: 50%; left: 45%;"></div>
                        <div class="map-dot" style="top: 40%; left: 80%;"></div>
                    </div>
                </div>
                <div class="glass-card">
                    <div class="card-title">Regional Rankings</div>
                    <div style="margin-top: 1rem; display: flex; flex-direction: column; gap: 1rem;">
                        <div
                            style="display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid var(--border);">
                            <span>North America</span>
                            <span style="color: var(--neon-pink);">42% Elevated</span>
                        </div>
                        <div
                            style="display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid var(--border);">
                            <span>European Union</span>
                            <span style="color: var(--neon-teal);">28% Stable</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 10px;">
                            <span>Asia Pacific</span>
                            <span style="color: var(--neon-blue);">15% Emerging</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Subscriptions Page -->
        <section id="subs-page" class="page">
            <header>
                <h1>Alert Subscriptions</h1>
            </header>
            <div class="glass-card">
                <div class="card-title">Email & SMS Triggers</div>
                <div style="margin-top: 2rem; display: flex; flex-direction: column; gap: 2rem;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: rgba(255,255,255,0.02); border-radius: 12px;">
                        <div>
                            <div style="font-weight: 700;">Critical Signal SMS</div>
                            <div style="font-size: 0.8rem; color: var(--text-dim);">Trigger when PRR > 4.0</div>
                        </div>
                        <input type="checkbox" checked>
                    </div>
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: rgba(255,255,255,0.02); border-radius: 12px;">
                        <div>
                            <div style="font-weight: 700;">Weekly Summary PDF</div>
                            <div style="font-size: 0.8rem; color: var(--text-dim);">Consolidated regional reports</div>
                        </div>
                        <input type="checkbox" checked>
                    </div>
                </div>
            </div>
        </section>

        <!-- Audit Page -->
        <section id="audit-page" class="page">
            <header>
                <h1>System Audit Trail</h1>
            </header>
            <div class="glass-card">
                <div style="font-family: 'JetBrains Mono'; font-size: 0.85rem; color: var(--text-dim); line-height: 2;">
                    <div>[2026-03-01 22:15:02] <span style="color: var(--neon-teal);">INFO</span>: Kafka consumer
                        'ner_group_01' active.</div>
                    <div>[2026-03-01 22:18:45] <span style="color: var(--neon-blue);">DBUG</span>: DuckDB batch merge
                        successful. 420 case rows.</div>
                    <div>[2026-03-01 22:20:11] <span style="color: var(--neon-pink);">WARN</span>: Disproportionality
                        spike detected.</div>
                    <div>[2026-03-01 22:20:15] <span style="color: var(--neon-purple);">AI</span>: MedGemma-7B reasoning
                        injected.</div>
                </div>
            </div>
        </section>

        <!-- API Page -->
        <section id="api-page" class="page">
            <header>
                <h1>Clinical Data Interface (v1.0)</h1>
            </header>
            <div class="glass-card">
                <div class="card-title">RESTful Integration Endpoints</div>
                <div style="margin-top: 2rem; display: flex; flex-direction: column; gap: 1.5rem;">
                    <div
                        style="padding: 1.5rem; background: #000; border-radius: 12px; border-left: 4px solid var(--neon-teal);">
                        <code
                            style="display: block; margin-bottom: 10px;"><span style="color: var(--neon-teal)">GET</span> /api/v1/signals/emerging</code>
                        <p style="margin: 0; font-size: 0.85rem; color: var(--text-dim);">Retrieve JSON payload of all
                            active signals exceeding PRR threshold.</p>
                    </div>
                    <div
                        style="padding: 1.5rem; background: #000; border-radius: 12px; border-left: 4px solid var(--neon-blue);">
                        <code
                            style="display: block; margin-bottom: 10px;"><span style="color: var(--neon-blue)">POST</span> /api/v1/agent/synthesize</code>
                        <p style="margin: 0; font-size: 0.85rem; color: var(--text-dim);">Request LLM narrative
                            synthesis for a specific drug-AE pair.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        const narratives = {
            'SEMAGLUTIDE': {
                title: 'Semaglutide Analysis', id: 'SRX-2026-N42',
                insight: 'Disproportionate reporting (PRR=5.12) for Necrotizing Pancreatitis.',
                prr: '5.12', cases: '12', tier: 'Tier 1', source: 'SIDER: NOVEL',
                medgemma: 'GLP-1 receptor agonism may lead to hyper-activation of pancreatic enzymes.'
            },
            'NIVOLUMAB': {
                title: 'Nivolumab Safety Report', id: 'SRX-2026-O88',
                insight: 'Fulminant myocarditis signal detected (PRR=4.85). Fatalities confirmed.',
                prr: '4.85', cases: '7', tier: 'Critical', source: 'SIDER: NOVEL',
                medgemma: 'Immune-checkpoint inhibition can trigger T-cell infiltration into healthy cardiac tissue.'
            },
            'APIXABAN': {
                title: 'Apixaban Monitoring', id: 'SRX-2026-C12',
                insight: 'Emerging signal for intracranial hemorrhage (PRR=2.45).',
                prr: '2.45', cases: '42', tier: 'Tier 2', source: 'SIDER: KNOWN',
                medgemma: 'Factor Xa inhibition affects coagulation. Intensity is above clinical benchmarks.'
            },
            'ADALIMUMAB': {
                title: 'Adalimumab Report', id: 'SRX-2026-I04',
                insight: 'New-onset psoriasiform rash reports increasing (PRR=3.22).',
                prr: '3.22', cases: '28', tier: 'Tier 2', source: 'SIDER: KNOWN',
                medgemma: 'TNF-alpha inhibition modulates cytokine dominance in dermal layers.'
            }
        };

        const signalPool = [
            { drug: 'TIRZEPATIDE', ae: 'Gastrointestinal Obstruction', prr: '6.42', ror: '4.11', tag: 'MedGemma Alert', narrative: 'Dual GIP/GLP-1 agonism slows gastric emptying. Clinical validity: HIGH.' },
            { drug: 'RISPERIDONE', ae: 'Gynecomastia', prr: '3.88', ror: '2.45', tag: 'SIDER: KNOWN', narrative: 'Prolactin elevation via D2 receptor antagonism in the tuberoinfundibular pathway.' },
            { drug: 'LIRAGLUTIDE', ae: 'Medullary Thyroid Cancer', prr: '2.12', ror: '1.05', tag: 'Novel Signal', narrative: 'C-cell hyperplasia observed in rodent models; human clinical relevance under surveillance.' },
            { drug: 'UPADACITINIB', ae: 'Pulmonary Embolism', prr: '4.21', ror: '3.12', tag: 'MedGemma Alert', narrative: 'JAK inhibition modulates pro-thrombotic pathways. High clinical urgency recommended.' }
        ];
        let poolIndex = 0;

        function showDashboard() { switchPage('dashboard-page', 0); }
        function showReports() { switchPage('reports-page', 1); }
        function showTrends() { switchPage('trends-page', 2); }
        function showSettings() { switchPage('settings-page', 3); }
        function showDocs() { switchPage('api-page', 4); }
        function showAudit() { switchPage('audit-page', 5); }
        function showSubs() { switchPage('subs-page', 6); }

        function switchPage(pageId, navIndex) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-item')[navIndex].classList.add('active');
        }

        function updateNarrative(drug) {
            const data = narratives[drug];
            const box = document.getElementById('narrative-content');
            box.style.animation = 'none';
            box.offsetHeight;
            box.style.animation = 'fadeIn 0.5s ease-out';
            box.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h3>${data.title}</h3>
                    <span class="tag ${data.source.includes('NOVEL') || data.source.includes('Alert') ? 'tag-critical' : 'tag-active'}">${data.source}</span>
                </div>
                <code>SIGNAL_ID: ${data.id}</code>
                <div class="clinical-insight" style="border-left: 4px solid var(--neon-teal)">
                    <p>${data.insight}</p>
                </div>
                <div style="margin: 1.5rem 0; padding: 1rem; background: rgba(168, 85, 247, 0.1); border: 1px dashed var(--neon-purple); border-radius: 12px;">
                    <div style="color: var(--neon-purple); font-size: 0.75rem; font-weight: 800; text-transform: uppercase;">ü§ñ MedGemma-7B Clinical Grounding</div>
                    <p style="font-size: 0.85rem; line-height: 1.5; margin: 5px 0 0;">${data.medgemma}</p>
                </div>
                <div class="stat-grid">
                    <div class="stat-box"><span class="stat-val">${data.prr}</span><span class="stat-lab">PRR</span></div>
                    <div class="stat-box"><span class="stat-val">${data.cases}</span><span class="stat-lab">Cases</span></div>
                    <div class="stat-box"><span class="stat-val">${data.tier}</span><span class="stat-lab">Tier</span></div>
                </div>
            `;
        }

        function simulateNewSignal() {
            const table = document.getElementById('signal-rows');
            const data = signalPool[poolIndex];
            const row = document.createElement('tr');
            row.style.background = 'rgba(45, 212, 191, 0.15)';
            row.onclick = () => {
                narratives[data.drug] = {
                    title: data.drug + ' Alert', id: 'SRX-00' + poolIndex, insight: data.ae + ' signal detected.',
                    prr: data.prr, cases: '8', tier: 'High', source: data.tag, medgemma: data.narrative
                };
                updateNarrative(data.drug);
            };
            row.innerHTML = `
                <td><strong>${data.drug}</strong></td>
                <td>${data.ae}</td>
                <td style="color: var(--neon-pink); font-weight: 800;">${data.prr}</td>
                <td>${data.ror}</td>
                <td><span class="tag tag-critical">${data.tag}</span></td>
            `;
            table.insertBefore(row, table.firstChild);
            poolIndex = (poolIndex + 1) % signalPool.length;
            setTimeout(() => { row.style.background = 'rgba(255, 255, 255, 0.03)'; }, 1000);
        }
    </script>
</body>

</html>